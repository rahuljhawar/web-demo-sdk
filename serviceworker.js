!function () { var t = { 61: function (t, e, r) { var n = r(698).default; function o() { "use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports = o = function () { return e }, t.exports.__esModule = !0, t.exports.default = t.exports; var e = {}, r = Object.prototype, i = r.hasOwnProperty, a = Object.defineProperty || function (t, e, r) { t[e] = r.value }, c = "function" == typeof Symbol ? Symbol : {}, u = c.iterator || "@@iterator", f = c.asyncIterator || "@@asyncIterator", l = c.toStringTag || "@@toStringTag"; function s(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { s({}, "") } catch (t) { s = function (t, e, r) { return t[e] = r } } function p(t, e, r, n) { var o = e && e.prototype instanceof y ? e : y, i = Object.create(o.prototype), c = new P(n || []); return a(i, "_invoke", { value: E(t, r, c) }), i } function h(t, e, r) { try { return { type: "normal", arg: t.call(e, r) } } catch (t) { return { type: "throw", arg: t } } } e.wrap = p; var v = {}; function y() { } function d() { } function m() { } var b = {}; s(b, u, (function () { return this })); var g = Object.getPrototypeOf, w = g && g(g(I([]))); w && w !== r && i.call(w, u) && (b = w); var x = m.prototype = y.prototype = Object.create(b); function O(t) { ["next", "throw", "return"].forEach((function (e) { s(t, e, (function (t) { return this._invoke(e, t) })) })) } function j(t, e) { function r(o, a, c, u) { var f = h(t[o], t, a); if ("throw" !== f.type) { var l = f.arg, s = l.value; return s && "object" == n(s) && i.call(s, "__await") ? e.resolve(s.__await).then((function (t) { r("next", t, c, u) }), (function (t) { r("throw", t, c, u) })) : e.resolve(s).then((function (t) { l.value = t, c(l) }), (function (t) { return r("throw", t, c, u) })) } u(f.arg) } var o; a(this, "_invoke", { value: function (t, n) { function i() { return new e((function (e, o) { r(t, n, e, o) })) } return o = o ? o.then(i, i) : i() } }) } function E(t, e, r) { var n = "suspendedStart"; return function (o, i) { if ("executing" === n) throw new Error("Generator is already running"); if ("completed" === n) { if ("throw" === o) throw i; return D() } for (r.method = o, r.arg = i; ;) { var a = r.delegate; if (a) { var c = _(a, r); if (c) { if (c === v) continue; return c } } if ("next" === r.method) r.sent = r._sent = r.arg; else if ("throw" === r.method) { if ("suspendedStart" === n) throw n = "completed", r.arg; r.dispatchException(r.arg) } else "return" === r.method && r.abrupt("return", r.arg); n = "executing"; var u = h(t, e, r); if ("normal" === u.type) { if (n = r.done ? "completed" : "suspendedYield", u.arg === v) continue; return { value: u.arg, done: r.done } } "throw" === u.type && (n = "completed", r.method = "throw", r.arg = u.arg) } } } function _(t, e) { var r = e.method, n = t.iterator[r]; if (void 0 === n) return e.delegate = null, "throw" === r && t.iterator.return && (e.method = "return", e.arg = void 0, _(t, e), "throw" === e.method) || "return" !== r && (e.method = "throw", e.arg = new TypeError("The iterator does not provide a '" + r + "' method")), v; var o = h(n, t.iterator, e.arg); if ("throw" === o.type) return e.method = "throw", e.arg = o.arg, e.delegate = null, v; var i = o.arg; return i ? i.done ? (e[t.resultName] = i.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = void 0), e.delegate = null, v) : i : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, v) } function L(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function S(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e } function P(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(L, this), this.reset(!0) } function I(t) { if (t) { var e = t[u]; if (e) return e.call(t); if ("function" == typeof t.next) return t; if (!isNaN(t.length)) { var r = -1, n = function e() { for (; ++r < t.length;)if (i.call(t, r)) return e.value = t[r], e.done = !1, e; return e.value = void 0, e.done = !0, e }; return n.next = n } } return { next: D } } function D() { return { value: void 0, done: !0 } } return d.prototype = m, a(x, "constructor", { value: m, configurable: !0 }), a(m, "constructor", { value: d, configurable: !0 }), d.displayName = s(m, l, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === d || "GeneratorFunction" === (e.displayName || e.name)) }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, m) : (t.__proto__ = m, s(t, l, "GeneratorFunction")), t.prototype = Object.create(x), t }, e.awrap = function (t) { return { __await: t } }, O(j.prototype), s(j.prototype, f, (function () { return this })), e.AsyncIterator = j, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new j(p(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then((function (t) { return t.done ? t.value : a.next() })) }, O(x), s(x, l, "Generator"), s(x, u, (function () { return this })), s(x, "toString", (function () { return "[object Generator]" })), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function t() { for (; r.length;) { var n = r.pop(); if (n in e) return t.value = n, t.done = !1, t } return t.done = !0, t } }, e.values = I, P.prototype = { constructor: P, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(S), !t) for (var e in this) "t" === e.charAt(0) && i.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0) }, stop: function () { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var e = this; function r(r, n) { return a.type = "throw", a.arg = t, e.next = r, n && (e.method = "next", e.arg = void 0), !!n } for (var n = this.tryEntries.length - 1; n >= 0; --n) { var o = this.tryEntries[n], a = o.completion; if ("root" === o.tryLoc) return r("end"); if (o.tryLoc <= this.prev) { var c = i.call(o, "catchLoc"), u = i.call(o, "finallyLoc"); if (c && u) { if (this.prev < o.catchLoc) return r(o.catchLoc, !0); if (this.prev < o.finallyLoc) return r(o.finallyLoc) } else if (c) { if (this.prev < o.catchLoc) return r(o.catchLoc, !0) } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < o.finallyLoc) return r(o.finallyLoc) } } } }, abrupt: function (t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var n = this.tryEntries[r]; if (n.tryLoc <= this.prev && i.call(n, "finallyLoc") && this.prev < n.finallyLoc) { var o = n; break } } o && ("break" === t || "continue" === t) && o.tryLoc <= e && e <= o.finallyLoc && (o = null); var a = o ? o.completion : {}; return a.type = t, a.arg = e, o ? (this.method = "next", this.next = o.finallyLoc, v) : this.complete(a) }, complete: function (t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), v }, finish: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), S(r), v } }, catch: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; S(r) } return o } } throw new Error("illegal catch attempt") }, delegateYield: function (t, e, r) { return this.delegate = { iterator: I(t), resultName: e, nextLoc: r }, "next" === this.method && (this.arg = void 0), v } }, e } t.exports = o, t.exports.__esModule = !0, t.exports.default = t.exports }, 698: function (t) { function e(r) { return t.exports = e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, t.exports.__esModule = !0, t.exports.default = t.exports, e(r) } t.exports = e, t.exports.__esModule = !0, t.exports.default = t.exports }, 687: function (t, e, r) { var n = r(61)(); t.exports = n; try { regeneratorRuntime = n } catch (t) { "object" == typeof globalThis ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n) } } }, e = {}; function r(n) { var o = e[n]; if (void 0 !== o) return o.exports; var i = e[n] = { exports: {} }; return t[n](i, i.exports, r), i.exports } r.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return r.d(e, { a: e }), e }, r.d = function (t, e) { for (var n in e) r.o(e, n) && !r.o(t, n) && Object.defineProperty(t, n, { enumerable: !0, get: e[n] }) }, r.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, function () { "use strict"; function t(e) { return t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, t(e) } function e(e) { var r = function (e, r) { if ("object" !== t(e) || null === e) return e; var n = e[Symbol.toPrimitive]; if (void 0 !== n) { var o = n.call(e, r || "default"); if ("object" !== t(o)) return o; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === r ? String : Number)(e) }(e, "string"); return "symbol" === t(r) ? r : String(r) } function n(t, r, n) { return (r = e(r)) in t ? Object.defineProperty(t, r, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[r] = n, t } function o(t, e, r, n, o, i, a) { try { var c = t[i](a), u = c.value } catch (t) { return void r(t) } c.done ? e(u) : Promise.resolve(u).then(n, o) } var i = r(687), a = r.n(i); function c(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), r.push.apply(r, n) } return r } function u(t, e) { var r = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!r) { if (Array.isArray(t) || (r = function (t, e) { if (!t) return; if ("string" == typeof t) return f(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); "Object" === r && t.constructor && (r = t.constructor.name); if ("Map" === r || "Set" === r) return Array.from(t); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return f(t, e) }(t)) || e && t && "number" == typeof t.length) { r && (t = r); var n = 0, o = function () { }; return { s: o, n: function () { return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] } }, e: function (t) { throw t }, f: o } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var i, a = !0, c = !1; return { s: function () { r = r.call(t) }, n: function () { var t = r.next(); return a = t.done, t }, e: function (t) { c = !0, i = t }, f: function () { try { a || null == r.return || r.return() } finally { if (c) throw i } } } } function f(t, e) { (null == e || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } var l = function (t) { for (var e = (t + "=".repeat((4 - t.length % 4) % 4)).replace(/\-/g, "+").replace(/_/g, "/"), r = atob(e), n = new Uint8Array(r.length), o = 0; o < r.length; ++o)n[o] = r.charCodeAt(o); return n }, s = function (t, e) { fetch(t, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(e) }).catch((function (t) { console.error(t) })) }, p = "APP64372", h = "https://swan-web-sdk.azurewebsites.net/api/websdk/tracking/events/".concat(p); self.addEventListener("install", (function (t) { return t.waitUntil(self.skipWaiting()) })), self.addEventListener("activate", function () { var t, e = (t = a().mark((function t(e) { var r, n; return a().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e.waitUntil(self.clients.claim()), t.prev = 1, r = l("BGdhAYQRPdE_Mg4vov60T6ULwVghX6xFkxK_EZzocFi_LgOMug9lHPx6Lcxyk1AQ6l4CE3U1HmM88nCmAiSsQJ4"), n = { userVisibleOnly: !0, applicationServerKey: r }, t.t0 = s, t.t1 = h, t.next = 8, self.registration.pushManager.subscribe(n); case 8: t.t2 = t.sent.toJSON(), (0, t.t0)(t.t1, t.t2), t.next = 15; break; case 12: t.prev = 12, t.t3 = t.catch(1), console.log("Error", t.t3); case 15: case "end": return t.stop() } }), t, null, [[1, 12]]) })), function () { var e = this, r = arguments; return new Promise((function (n, i) { var a = t.apply(e, r); function c(t) { o(a, n, i, c, u, "next", t) } function u(t) { o(a, n, i, c, u, "throw", t) } c(void 0) })) }); return function (t) { return e.apply(this, arguments) } }()), self.addEventListener("push", (function (t) { if (t.data) { var e = t.data.json(); v(e, self.registration); var r = { eventType: "webpushDelivered", appId: p, eventData: { commId: e.data.commId, CDID: e.data.CDID } }; s(h, r) } else console.log("Push event but no data") })), self.addEventListener("notificationclick", (function (t) { switch (t.action) { case "close": break; case "button_click_1": var e, r = u(t.notification.actions); try { for (r.s(); !(e = r.n()).done;) { var n = e.value.action; n === t.action && t.waitUntil(clients.openWindow(t.notification.data.button[n])) } } catch (t) { r.e(t) } finally { r.f() } var o = { eventType: "webpushClicked", appId: p, eventData: { commId: t.notification.data.commId, CDID: t.notification.data.CDID } }; s(h, o); break; case "button_click_2": var i, a = u(t.notification.actions); try { for (a.s(); !(i = a.n()).done;) { var c = i.value.action; c === t.action && t.waitUntil(clients.openWindow(t.notification.data.button[c])) } } catch (t) { a.e(t) } finally { a.f() } var f = { eventType: "webpushClicked", appId: p, eventData: { commId: t.notification.data.commId, CDID: t.notification.data.CDID } }; s(h, f); break; default: t.notification.data.url && t.waitUntil(clients.openWindow(t.notification.data.url)); var l = { eventType: "webpushClicked", appId: p, eventData: { commId: t.notification.data.commId, CDID: t.notification.data.CDID } }; s(h, l) } })); var v = function (t, e) { var r = function (t) { for (var e = 1; e < arguments.length; e++) { var r = null != arguments[e] ? arguments[e] : {}; e % 2 ? c(Object(r), !0).forEach((function (e) { n(t, e, r[e]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : c(Object(r)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e)) })) } return t }({}, t); e.showNotification(r.title, r) } }() }();